# APR Results 

The results are generated by Astor version [ceb4796db1bcb12a6fde4008bf27ed4c41d3b7d0](https://github.com/SpoonLabs/astor/tree/ceb4796db1bcb12a6fde4008bf27ed4c41d3b7d0), which is the latest version in their "release" branch. 
The specific defects4j project and bug id can be found in the zip name after '-'. For instance, "AstorMain-<span style="color:red">Math_85</span>.zip" refers to results generated by Astor on project Math with bug id 85 in defects4j. 

A csv file containing details of the project(e.g. Math) is enclosed. The csv files specify: 
- Assigned bug IDs 
- Date of the buggy commit for each bug
- Date of the fixed commit for each bug
- Bug report ID from the version tracker for each bug
- Bug report URL from the version tracker for each bug
- Classes modified by the bug fix

It is generated by ```defects4j query -p ${PRJ} -q "revision.date.buggy,revision.date.fixed,report.id,report.url,classes.modified" -o ${PRJ}_details.csv```


## Project : Math 
|bug id | modified class | Plausible fixes generated?| seed| Correct fix?  | Remarks | 
|--------|----------------|--------------- |---| ---|---|
| 85| org.apache.commons.math.analysis.solvers.UnivariateRealSolverUtils |Y| 10| | |
|94|org.apache.commons.math.util.MathUtils|N|10| | |
| 95| org.apache.commons.math.distribution.FDistributionImpl | Y|10|N|One patch contains part of correct fix, but not full|

> Note: Tested Math 81, only generate 1 fix -> cannot be used 
#### Commands used 
```
PROJECT_LOC = ... # location of the project under repair 
seed = ... # specified in the table above

cd $(PROJECT_LOC)
defects4j compile
mvn dependency:copy-dependencies
nohup defects4j info -p ${PROJECT} -b ${BUG_VER} > info.stdout

DEPENDENCIES_FILES=$(find ${PROJECT_LOC}/target/dependency -name '*.jar' | tr '\n' ':' | sed 's/.$//')
FAILING_TEST=`grep -m 1 'org.apache.commons.*Test' ${PROJECT_LOC}/info.stdout | cut -f 2 -d '-' | cut -f 1 -d ':'`
java -cp astor.jar fr.inria.main.evolution.AstorMain -mode jgenprog -maxgen 9999999 -population 10 -stopfirst false -location $PROJECT_LOC -package $PACKAGE -failing $FAILING_TEST -dependencies $DEPENDENCIES_FILES -tmax1 9999999 -tmax2 9999999 -parameters overridemaxtime:false:maxtime:1800:processoutputinfile:true:outputjsonresult:true:timezone:Asia/Hong_Kong:logtestexecution:true:loglevel:DEBUG:regressionforfaultlocalization:false -seed ${seed} -scope package
```